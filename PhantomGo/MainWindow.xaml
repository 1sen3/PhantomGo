<!-- MainWindow.xaml -->
<Window
    x:Class="PhantomGo.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:canvas="using:Microsoft.Graphics.Canvas.UI.Xaml"
    mc:Ignorable="d">

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition Width="1*"/>
        </Grid.ColumnDefinitions>

        <Viewbox Grid.Column="0" Margin="20">
            <Border x:Name="GameBoardCard"
                    Width="800" Height="800" Background="#FEFCF5" 
                    CornerRadius="8"
                    Padding="40">
                <Border.Shadow>
                    <ThemeShadow/>
                </Border.Shadow>

                <canvas:CanvasControl x:Name="GameBoardCanvas"
                                      ClearColor="#FFD2B48C"
                                      Draw="GameBoardCanvas_Draw"
                                      PointerPressed="GameBoardCanvas_PointerPressed"/>
            </Border>
        </Viewbox>

        <!-- 右侧信息与控制面板 -->
        <!-- 稍微增加右侧面板的宽度和边距，让布局更舒适 -->
        <StackPanel Grid.Column="1" Margin="10,20,20,20" Spacing="12">
            <TextBlock Text="游戏状态" FontSize="24" FontWeight="Bold"/>

            <StackPanel Orientation="Horizontal" Spacing="5" Margin="0,5,0,0">
                <TextBlock Text="当前行棋:" FontWeight="SemiBold"/>
                <TextBlock x:Name="CurrentPlayerText" Text="..."/>
                <Ellipse x:Name="CurrentPlayerIndicator" Width="16" Height="16" Margin="5,0,0,0" VerticalAlignment="Center"/>
            </StackPanel>

            <TextBlock Text="提子数" Margin="0,15,0,0" FontSize="18" FontWeight="Bold"/>
            <StackPanel Orientation="Horizontal" Spacing="5">
                <TextBlock Text="黑方:" FontWeight="SemiBold"/>
                <TextBlock x:Name="BlackCapturesText" Text="0"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Spacing="5">
                <TextBlock Text="白方:" FontWeight="SemiBold"/>
                <TextBlock x:Name="WhiteCapturesText" Text="0"/>
            </StackPanel>

            <TextBlock Text="操作" Margin="0,35,0,0" FontSize="18" FontWeight="Bold"/>
            <Button x:Name="PassButton" Content="弃权 (Pass)" HorizontalAlignment="Stretch" Click="PassButton_Click"/>
            <Button x:Name="UndoButton" Content="悔棋 (Undo)" HorizontalAlignment="Stretch" Click="UndoButton_Click"/>
            <Button x:Name="NewGameButton" Content="新游戏" HorizontalAlignment="Stretch" Margin="0,30,0,0" Click="NewGameButton_Click" Style="{ThemeResource AccentButtonStyle}"/>
        </StackPanel>
    </Grid>
</Window>
